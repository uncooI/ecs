@page
@model Roblox.Website.Pages.Auth.PasswordReset

@section MetaTags {
    <title>Password Reset â€“ Shklurb</title>
}

<style>
    @import url('https://fonts.googleapis.com/css?family=Segoe+UI:700,400|Tahoma:700,400');
    body { background: linear-gradient(135deg, #e2f0ff 0%, #7ad0ff 100%); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}
    .aero-logo { margin: 44px auto 10px auto; display: block; width: 220px; max-width: 80vw; filter: drop-shadow(0 8px 20px #8de8ff99); border-radius: 26px;}
    .main-aero-card { background: linear-gradient(120deg, #f7fdff 60%, #8feeff30 100%); border-radius: 30px; box-shadow: 0 10px 60px #6fc6fc29, 0 2px 8px #7cdeff30; padding: 36px 22px 30px 22px; max-width: 410px; width: 96vw; text-align: center; margin: 34px auto 28px auto;}
    .main-aero-card h2 { font-size: 1.7em; color: #066bb8; margin-bottom: 10px;}
    .main-aero-card p { color: #216ba0; font-size: 1.03em; margin-bottom: 20px;}
    .aero-input { width: 90%; margin: 14px auto 12px auto; padding: 12px; border-radius: 18px; border: none; outline: none; font-size: 1em; box-shadow: 0 2px 16px #a9e9ff30; background: linear-gradient(100deg, #eafaff 80%, #c6f4ff 100%);}
    .aero-input:focus { box-shadow: 0 4px 24px #30d1ff88;}
    .cta-button { font-size: 1.13em; background: linear-gradient(90deg, #30d5fc 10%, #5ec5ff 100%); border: none; color: #fff; padding: 14px 40px; border-radius: 22px; font-weight: bold; box-shadow: 0 8px 36px #00bcf855, 0 0 0 4px #c2f2f3aa inset; cursor: pointer; letter-spacing: 0.04em; text-shadow: 0 2px 8px #fff9; margin-top: 14px; transition: background 0.22s, box-shadow 0.17s;}
    .aero-error { color: #f2406e; background: #fff4f7; padding: 8px 18px; border-radius: 16px; margin-bottom: 16px; box-shadow: 0 2px 12px #ff95bc22; font-weight: bold;}
    .aero-success { color: #1f7c3a; background: #f2fff6; padding: 8px 18px; border-radius: 16px; margin-bottom: 16px; box-shadow: 0 2px 12px #85ffbc22; font-weight: bold;}
</style>

<img class="aero-logo" src="/UnsecuredContent/shklurb-logo.png" alt="Shklurb Logo">

<div class="main-aero-card">
    <h2>Reset Your Password</h2>
    <p>Enter your username to begin the password reset process.</p>
    @if (Model.errorMessage != null)
    {
        <div class="aero-error">@Model.errorMessage</div>
    }
    @if (Model.successMessage != null)
    {
        <div class="aero-success">@Model.successMessage</div>
    }
    <form method="post" autocomplete="off">
        <input class="aero-input" type="text" name="username" placeholder="Username" maxlength="32" required value="@Model.username" />
        <div class="h-captcha" data-sitekey="@Model.siteKey" style="margin:18px auto;"></div>
        <button class="cta-button" type="submit" name="action" value="verify">Send Verification</button>
    </form>
    @if (Model.verificationPhrase != null)
    {
        <div style="background:#e9f8ff;border-radius:13px;padding:6px 15px;margin:18px auto 10px auto;width:90%;">
            <b>Verification Phrase:</b>
            <span style="font-family:monospace;color:#1686ce">@Model.verificationPhrase</span>
            <div style="font-size:0.98em;color:#888;">Paste this in your bio/about section of your social profile to verify identity.</div>
        </div>
        <form method="post" autocomplete="off" style="margin-top:14px;">
            <input type="hidden" name="username" value="@Model.username" />
            <input type="hidden" name="passwordResetId" value="@Model.passwordResetId" />
            <input class="aero-input" type="password" name="newPassword" placeholder="New Password" minlength="3" maxlength="100" required />
            <button class="cta-button" type="submit" name="action" value="change">Change Password</button>
        </form>
    }
</div>
<script src="https://hcaptcha.com/1/api.js" async defer></script>
